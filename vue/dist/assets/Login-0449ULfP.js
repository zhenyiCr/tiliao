/* empty css             *//* empty css                  *//* empty css               *//* empty css               *//* empty css                  *//* empty css              */import{_ as E,r as V,z as b,c as v,a,b as o,w as t,P as w,o as y,u as d,a9 as R,ad as S,h as z,E as p,d as f,C as N,N as U,R as h,S as k,B}from"./index-DehrrkGI.js";import{r as I}from"./request-BFhekgCV.js";/* empty css                */const C={class:"login-container"},O={class:"login-box"},q={__name:"Login",setup(D){const r=V({form:{role:"USER"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),m=b(),_=()=>{m.value.validate(i=>{i&&I.post("/login",r.form).then(e=>{e.code==="200"?(p.success("登录成功"),localStorage.setItem("xm-user",JSON.stringify(e.data)),r.form.role==="USER"?f.push("/front/home"):f.push("/manager/home")):p.error(e.msg)})})};return(i,e)=>{const u=N,s=U,n=h,c=k,g=B,x=w;return y(),v("div",C,[a("div",O,[e[5]||(e[5]=a("div",{style:{"font-weight":"bold","font-size":"24px","text-align":"center","margin-bottom":"30px",color:"#1450aa"}},"登 录",-1)),o(x,{ref_key:"formRef",ref:m,model:r.form,rules:r.rules},{default:t(()=>[o(s,{prop:"username"},{default:t(()=>[o(u,{"prefix-icon":d(R),size:"large",modelValue:r.form.username,"onUpdate:modelValue":e[0]||(e[0]=l=>r.form.username=l),placeholder:"请输入账号"},null,8,["prefix-icon","modelValue"])]),_:1}),o(s,{prop:"password"},{default:t(()=>[o(u,{"show-password":"","prefix-icon":d(S),size:"large",modelValue:r.form.password,"onUpdate:modelValue":e[1]||(e[1]=l=>r.form.password=l),placeholder:"请输入密码"},null,8,["prefix-icon","modelValue"])]),_:1}),o(s,{prop:"role"},{default:t(()=>[o(c,{size:"large",modelValue:r.form.role,"onUpdate:modelValue":e[2]||(e[2]=l=>r.form.role=l)},{default:t(()=>[o(n,{value:"USER",label:"用户"}),o(n,{value:"DOCTOR",label:"医生"}),o(n,{value:"ADMIN",label:"管理员"})]),_:1},8,["modelValue"])]),_:1}),o(s,null,{default:t(()=>[o(g,{size:"large",type:"primary",style:{width:"100%"},onClick:_},{default:t(()=>e[3]||(e[3]=[z("登 录")])),_:1})]),_:1}),e[4]||(e[4]=a("div",{style:{"text-align":"right"}},[a("a",{href:"/register"},"注册新账号")],-1))]),_:1},8,["model","rules"])])])}}},H=E(q,[["__scopeId","data-v-ac6db78f"]]);export{H as default};
