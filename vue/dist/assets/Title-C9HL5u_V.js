/* empty css             *//* empty css               *//* empty css                *//* empty css                  *//* empty css                   *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                *//* empty css              *//* empty css               */import{r as d}from"./request-BFhekgCV.js";/* empty css                *//* empty css                    */import{r as P,c as _,a as m,b as o,w as n,j as T,E as r,A as g,B as U,C as J,D as $,G as j,H as A,o as b,h as p,u,I as F,J as M,K as O,m as q,L as G,N as H,P as K}from"./index-DehrrkGI.js";const L={class:"card1"},Q={style:{display:"flex","align-items":"center","justify-content":"space-between",width:"100%"}},R={style:{display:"flex","align-items":"center"}},W={class:"card",style:{"margin-bottom":"5px"}},X={key:0,class:"card"},Y={class:"dialog-footer"},_e={__name:"Title",setup(Z){const e=P({formVisible:!1,form:{},tableData:[],pageNum:1,pageSize:10,total:0,name:null,ids:[]}),s=()=>{d.get("/title/selectPage",{params:{pageNum:e.pageNum,pageSize:e.pageSize,name:e.name}}).then(l=>{var t,a;l.code==="200"&&(e.tableData=((t=l.data)==null?void 0:t.list)||[],e.total=(a=l.data)==null?void 0:a.total)})},y=()=>{e.form={},e.formVisible=!0},V=l=>{e.form=JSON.parse(JSON.stringify(l)),e.formVisible=!0},h=()=>{d.post("/title/add",e.form).then(l=>{l.code==="200"?(r.success("已成功新增职称"),e.formVisible=!1,s()):r.error(l.msg)})},C=()=>{d.put("/title/update",e.form).then(l=>{l.code==="200"&&(r.success("更新已成功"),e.formVisible=!1,s())})},w=()=>{e.form.id?C():h()},E=l=>{g.confirm("此操作不可逆！","删除职称",{type:"warning"}).then(t=>{d.delete("/title/delete/"+l).then(a=>{a.code==="200"?(r.success("删除已成功"),s()):r.error(a.msg)})}).catch(t=>{console.error(t)})},k=()=>{if(!e.ids.length){r.warning("请选择要删除的数据");return}g.confirm("此操作不可逆！","删除职称",{type:"warning"}).then(l=>{d.delete("/title/delete/batch",{data:e.ids}).then(t=>{t.code==="200"?(r.success("删除已成功"),s()):r.error(t.msg)})}).catch(l=>{console.error(l)})},x=l=>{e.ids=l.map(t=>t.id)};return s(),(l,t)=>{const a=U,v=q,f=J,c=G,N=$,S=j,B=H,z=K,D=A;return b(),_("div",null,[m("div",L,[m("div",Q,[m("div",R,[o(a,{type:"primary",plain:"",onClick:y},{default:n(()=>t[5]||(t[5]=[p("新增职称")])),_:1}),o(a,{type:"danger",plain:"",style:{"margin-left":"10px"},onClick:k},{default:n(()=>t[6]||(t[6]=[p("批量删除")])),_:1})]),o(f,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=i=>e.name=i),style:{width:"30%"},placeholder:"请输入职称查询",onInput:s,clearable:""},{prepend:n(()=>[o(v,null,{default:n(()=>[o(u(F))]),_:1})]),append:n(()=>[o(a,{icon:"el-icon-search",onClick:s})]),_:1},8,["modelValue"])])]),m("div",W,[o(N,{stripe:"",data:e.tableData,onSelectionChange:x},{default:n(()=>[o(c,{type:"selection",width:"55"}),o(c,{prop:"name",label:"职称"}),o(c,{label:"修改或删除",width:"100",fixed:"right"},{default:n(i=>[o(a,{type:"primary",circle:"",icon:u(M),onClick:I=>V(i.row)},null,8,["icon","onClick"]),o(a,{type:"danger",circle:"",icon:u(O),onClick:I=>E(i.row.id)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"])]),e.total?(b(),_("div",X,[o(S,{onCurrentChange:s,background:"",layout:"prev, pager, next","page-size":e.pageSize,"current-page":e.pageNum,"onUpdate:currentPage":t[1]||(t[1]=i=>e.pageNum=i),total:e.total},null,8,["page-size","current-page","total"])])):T("",!0),o(D,{title:"职称信息",modelValue:e.formVisible,"onUpdate:modelValue":t[4]||(t[4]=i=>e.formVisible=i),width:"40%","destroy-on-close":""},{footer:n(()=>[m("span",Y,[o(a,{onClick:t[3]||(t[3]=i=>e.formVisible=!1)},{default:n(()=>t[7]||(t[7]=[p("取 消")])),_:1}),o(a,{type:"primary",onClick:w},{default:n(()=>t[8]||(t[8]=[p("确 定")])),_:1})])]),default:n(()=>[o(z,{ref:"form",model:e.form,"label-width":"70px",style:{padding:"20px"}},{default:n(()=>[o(B,{prop:"name",label:"职称"},{default:n(()=>[o(f,{modelValue:e.form.name,"onUpdate:modelValue":t[2]||(t[2]=i=>e.form.name=i),placeholder:"请输入职称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}};export{_e as default};
